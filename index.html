<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- مهم للتجاوب -->
  <title>طلب خدمة</title>
  <style>
    body {
      margin: 0;
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(135deg, #667eea, #764ba2);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 15px; /* عشان ما يلتصق الفورم بالحواف في الهاتف */
    }

    .form {
      width: 100%;
      max-width: 420px; /* للكمبيوتر يبقى ثابت */
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      color: #fff;
      text-align: center;
      animation: fadeIn 1s ease-in-out;
    }

    .form h2 {
      margin-bottom: 20px;
      font-size: 22px;
    }

    label {
      display: block;
      text-align: right;
      margin: 12px 0 5px;
      font-weight: bold;
      font-size: 14px;
    }

    input, select {
      width: 100%;
      padding: 12px;
      margin-top: 5px;
      border-radius: 10px;
      border: none;
      outline: none;
      font-size: 14px;
    }

    .phone-field {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .phone-field select {
      width: 40%;
    }

    .phone-field input {
      width: 60%;
    }

    button {
      width: 100%;
      margin-top: 18px;
      padding: 14px;
      border: none;
      border-radius: 12px;
      background: linear-gradient(45deg, #ff512f, #dd2476);
      color: white;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background: linear-gradient(45deg, #dd2476, #ff512f);
      transform: scale(1.03);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    #otherServiceField {
      display: none;
    }

    /* ----------- تحسين التجاوب ----------- */
    @media (max-width: 480px) {
      .form {
        padding: 20px;
        border-radius: 15px;
      }

      .form h2 {
        font-size: 20px;
      }

      label, input, select, button {
        font-size: 14px;
      }

      .phone-field {
        flex-direction: column;
      }

      .phone-field select,
      .phone-field input {
        width: 100%;
      }
    }
  </style>
</head>
<body>

<div class="form">
  <h2>📩 اطلب خدمتك</h2>

  <label>اختر المنصة:</label>
  <select id="platform" onchange="updateAccountField()" required>
    <option value="واتساب">واتساب</option>
    <option value="إنستغرام">إنستغرام</option>
  </select>

  <div id="accountField">
    <label>رقم الواتساب:</label>
    <div class="phone-field">
      <select id="countryCode">
        <option value="+216">🇹🇳 تونس (+216)</option>
        <option value="+213">🇩🇿 الجزائر (+213)</option>
        <option value="+212">🇲🇦 المغرب (+212)</option>
        <option value="+222">🇲🇷 موريتانيا (+222)</option>
        <option value="+218">🇱🇾 ليبيا (+218)</option>
      </select>
      <input type="text" id="account" placeholder="رقمك بدون رمز الدولة" required>
    </div>
  </div>

  <label>الخدمة المطلوبة:</label>
  <select id="service" onchange="updateServiceField()" required>
    <option value="شحن فري فاير">شحن فري فاير اي شي فاللعبة</option>
    <option value="شحن لعبة اخرى">شحن لعبة اخرى (اي لعبة)</option>
    <option value="شحن تطبيق">شحن تطبيق</option>
    <option value="خدمة اخرى">خدمة اخرى</option>
  </select>

  <div id="otherServiceField">
    <label>وصف الخدمة الأخرى:</label>
    <input type="text" id="otherService" placeholder="صف الخدمة التي ترغب بها">
  </div>

  <label>طريقة الدفع:</label>
  <select id="payment" required>
    <option value="POSTE TUNISIE">POSTE TUNISIE</option>
    <option value="APP D17">APP D17</option>
    <option value="CRYPTO">CRYPTO</option>
    <option value="كاش">كاش في سوسة فقط</option>
    <option value="اخرى">اخرى</option>
  </select>

  <button onclick="sendOrder()">إرسال الطلب ✅</button>
</div>

<script>
  const BOT_TOKEN = "7873400062:AAEHNwWoKhAm0FhKB9I4Kft-bTXxuJKBpOA";
  const CHAT_ID = "6571994977";

  function updateAccountField() {
    let platform = document.getElementById("platform").value;
    let fieldDiv = document.getElementById("accountField");

    if (platform === "إنستغرام") {
      fieldDiv.innerHTML = `
        <label>اسم حساب إنستغرام:</label>
        <input type="text" id="account" placeholder="@username" required>
      `;
    } else {
      fieldDiv.innerHTML = `
        <label>رقم الواتساب:</label>
        <div class="phone-field">
          <select id="countryCode">
            <option value="+216">🇹🇳 تونس (+216)</option>
            <option value="+213">🇩🇿 الجزائر (+213)</option>
            <option value="+212">🇲🇦 المغرب (+212)</option>
            <option value="+222">🇲🇷 موريتانيا (+222)</option>
            <option value="+218">🇱🇾 ليبيا (+218)</option>
          </select>
          <input type="text" id="account" placeholder="رقمك بدون رمز الدولة" required>
        </div>
      `;
    }
  }

  function updateServiceField() {
    let service = document.getElementById("service").value;
    let otherServiceField = document.getElementById("otherServiceField");

    otherServiceField.style.display = (service === "خدمة اخرى") ? "block" : "none";
  }

  function sendOrder() {
    let platform = document.getElementById("platform").value;
    let account = document.getElementById("account").value;
    let service = document.getElementById("service").value;
    let payment = document.getElementById("payment").value;

    if (platform === "واتساب") {
      let countryCode = document.getElementById("countryCode").value;
      account = countryCode + account;
    }

    if (service === "خدمة اخرى") {
      let otherService = document.getElementById("otherService").value;
      service = "خدمة اخرى: " + otherService;
    }

    let message = `📩 طلب جديد\n\n🔹 المنصة: ${platform}\n👤 بيانات العميل: ${account}\n💼 الخدمة: ${service}\n💳 طريقة الدفع: ${payment}`;

    fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        chat_id: CHAT_ID,
        text: message,
        parse_mode: "HTML"
      })
    })
    .then(response => {
      if (response.ok) {
        alert("✅ تم إرسال الطلب، سنتواصل معك قريبًا!");
      } else {
        alert("❌ حدث خطأ، حاول مرة أخرى.");
      }
    })
    .catch(error => {
      alert("⚠️ فشل الإرسال: " + error);
    });
  }
</script>

</body>
</html>
